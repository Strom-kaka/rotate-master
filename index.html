<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="edge" /><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="stylesheet" href="style.css"><title>转盘</title></head><body>		<div class="nums">剩余<span id="priceNum"></span>次</div>		<div class="ly-plate">			<div class="rotate-bg"></div>			<div class="lottery-star">				<img src="rotate-static.png" id="lotteryBtn">				<span id="grayBG"></span>			</div>		</div></body><script src="jquery-1.7.2.min.js"></script><script src="jQueryRotate.2.2.js"></script><script src="jquery.easing.min.js"></script><script>$(function(){var JSON = [			{prizeID:'000000000028',prizeLevel:3},			{prizeID:'000000000029',prizeLevel:0},			{prizeID:'000000000030',prizeLevel:0}		]var len = JSON.length;//抽奖次数var num= 0;//点击次数var datas;//中奖等级$('#priceNum').html(len);	var timeOut = function(){  //超时函数		$("#lotteryBtn").rotate({			angle:0, 			duration: 10000, 			animateTo: 1440, //这里是设置请求超时后返回的角度，所以应该还是回到最原始的位置，1440是因为我要让它转4圈，就是360*4得来的			callback:function(){				alert('网络超时')			}		}); 	}; 	var rotateFunc = function(awards,angle,text){  //awards:奖项，angle:奖项对应的角度		$('#lotteryBtn').stopRotate();		$("#lotteryBtn").rotate({			angle:0, 			duration: 3000, 			animateTo: angle+1440, //angle是图片上各奖项对应的角度，1440是我要让指针旋转4圈。所以最后的结束的角度就是这样子^^			callback:function(){				alert(text)			}		}); 	};		$("#lotteryBtn").rotate({ 	   bind: 		 { 			click: function(){				/*var time = [0,1];					time = time[Math.floor(Math.random()*time.length)];*/					var time = 1;				$('#grayBG').fadeIn().delay(3000).fadeOut();														if(time==0){					timeOut(); //网络超时				}				if(time==1){					num ++;					if(num > len){ $('#grayBG').fadeIn();return false;}					$('#priceNum').html(len-num);										datas = JSON[num-1].prizeLevel;					if(num>0 && num <=len){						//console.log(datas);							if(datas==1){							rotateFunc(1,157,'恭喜您抽中的一等奖')						}						if(datas==2){							rotateFunc(2,247,'恭喜您抽中的二等奖')						}						if(datas==3){							rotateFunc(3,22,'恭喜您抽中的三等奖')						}						if(datas==0){							var angle = [67,112,202,292,337];								angle = angle[Math.floor(Math.random()*angle.length)]							rotateFunc(0,angle,'很遗憾，这次您未抽中奖')						}						if(num == len){							$('#grayBG').css('display','block');							return false;						}					}					}			}		 } 	   	});	})</script></html>